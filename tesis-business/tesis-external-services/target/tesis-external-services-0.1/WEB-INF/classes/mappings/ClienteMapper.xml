<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cl.depocargo.rso.mappers.BridgeAduanaMapper">
    <select id="buscarDocumentosEdi" statementType="PREPARED" resultType="clienteDTO">
          SELECT DISTINCT
              E.NOMBRE_ARCHIVO,
              A.PUERTO_OPERACION,
              E.NUMERO_AGENTE,
              E.CODIGO_AGENTE,
              E.NUMERO_DESPACHO as numeroDocumento,
              E.TIPO_DOCUMENTO as codigoDocumento,
              E.RUT_CONSIGNATARIO,
              E.GUIA                                    AS numeroGuia,
              E.MANIFIESTO                              AS numeroManifiesto,
              TO_CHAR(E.FECHA_ACEPTACION, 'DD-MM-YYYY') AS FECHA_ACEPTACION,
              E.NUMERO_RECONOCIMIENTO,
              E.ANHO_RECONOCIMIENTO,
              E.BULTOS,
              E.KILOS,
              E.CIF_EDI,
              E.CANTIDAD_ERRORES
          FROM INFORMACION_EDI E
              INNER JOIN ALMACEN A ON A.ID = E.ID_ALMACEN
          WHERE E.NUMERO_DESPACHO = #{numeroDocumento}
                AND E.CODIGO_AGENTE = #{codigoAgente}
                AND E.TIPO_DOCUMENTO = #{codigoDocumento}
                AND A.PUERTO_OPERACION = #{puertoOperacion}
    </select>
</mapper>